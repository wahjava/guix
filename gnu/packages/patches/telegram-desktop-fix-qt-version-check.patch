diff --git base/platform/linux/base_linux_xdp_utilities.cpp base/platform/linux/base_linux_xdp_utilities.cpp
index 8aca67c..a5ab4b7 100644
--- base/platform/linux/base_linux_xdp_utilities.cpp
+++ base/platform/linux/base_linux_xdp_utilities.cpp
@@ -16,8 +16,12 @@
 #if QT_VERSION >= QT_VERSION_CHECK(6, 5, 0)
 #include <qpa/qplatformintegration.h>
 #include <private/qguiapplication_p.h>
+#if QT_VERSION >= QT_VERSION_CHECK(6, 9, 0)
+#include <private/qdesktopunixservices_p.h>
+#else
 #include <private/qgenericunixservices_p.h>
 #endif // Qt >= 6.5.0
+#endif
 
 #include <sstream>
 
@@ -39,10 +43,17 @@ std::string ParentWindowID(QWindow *window) {
 	}
 
 #if QT_VERSION >= QT_VERSION_CHECK(6, 5, 0)
+#if QT_VERSION >= QT_VERSION_CHECK(6, 9, 0)
+	if (const auto services = dynamic_cast<QDesktopUnixServices*>(
+			QGuiApplicationPrivate::platformIntegration()->services())) {
+		return services->portalWindowIdentifier(window).toStdString();
+	}
+#else
 	if (const auto services = dynamic_cast<QGenericUnixServices*>(
 			QGuiApplicationPrivate::platformIntegration()->services())) {
 		return services->portalWindowIdentifier(window).toStdString();
 	}
+#endif
 #endif // Qt >= 6.5.0
 
 	if (::Platform::IsX11()) {
